<!DOCTYPE html>
<html lang="si">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no"/>
<title>Xtreme Crash Predictor PRO : 1xbet</title>
<style>
  :root {
    --primary: #ff6b35; /* Orange - Crash theme */
    --secondary: #f7c59f; /* Light orange */
    --accent: #ef476f; /* Pinkish red */
    --dark: #0b132b; /* Dark blue */
    --darker: #080f25; /* Even darker */
    --light: #f8f9fa; /* Light text */
    --yellow: #ffd166; /* Yellow for warnings */
    --green: #06d6a0; /* Green for success */
    --purple: #8338ec; /* Purple for accents */
  }
  
  * {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    touch-action: manipulation;
    box-sizing: border-box;
  }
  
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow-x: hidden;
    background: var(--darker);
    color: var(--light);
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    text-align: center;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
  }
  
  .container {
    width: 100%;
    min-height: 100vh;
    padding: 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    position: relative;
    overflow: hidden;
  }
  
  .header-box {
    background: linear-gradient(135deg, rgba(11, 19, 43, 0.8), rgba(8, 15, 37, 0.9));
    border: 1px solid rgba(255, 107, 53, 0.3);
    border-radius: 15px;
    padding: 15px;
    margin: 10px 0;
    width: 100%;
    max-width: 500px;
    box-shadow: 
      0 0 15px rgba(255, 107, 53, 0.2),
      0 0 30px rgba(239, 71, 111, 0.1);
    animation: headerGlow 6s infinite alternate;
    position: relative;
    overflow: hidden;
    z-index: 1;
    backdrop-filter: blur(5px);
    transform-style: preserve-3d;
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }
  
  .header-box:hover {
    transform: translateY(-3px) scale(1.01);
    box-shadow: 
      0 0 20px rgba(255, 107, 53, 0.3),
      0 0 40px rgba(239, 71, 111, 0.2);
  }
  
  .header-box::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -60%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.1) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    transform: rotate(30deg);
    animation: shine 5s infinite;
  }
  
  @keyframes shine {
    0% { left: -60%; }
    20% { left: 100%; }
    100% { left: 100%; }
  }
  
  @keyframes headerGlow {
    0% { box-shadow: 0 0 15px rgba(255, 107, 53, 0.2), 0 0 30px rgba(239, 71, 111, 0.1); }
    50% { box-shadow: 0 0 20px rgba(255, 107, 53, 0.3), 0 0 40px rgba(239, 71, 111, 0.2); }
    100% { box-shadow: 0 0 15px rgba(255, 107, 53, 0.2), 0 0 30px rgba(239, 71, 111, 0.1); }
  }
  
  .title {
    font-size: clamp(1.2rem, 4vw, 1.5rem);
    letter-spacing: 1px;
    background: linear-gradient(90deg, var(--primary), var(--accent), var(--primary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 10px rgba(255, 107, 53, 0.3);
    margin: 0;
    font-weight: 700;
    line-height: 1.3;
    position: relative;
    z-index: 1;
    text-transform: uppercase;
  }
  
  .subtitle {
    font-size: clamp(0.7rem, 3vw, 0.8rem);
    color: var(--secondary);
    margin-top: 5px;
    font-weight: 400;
    letter-spacing: 0.5px;
  }
  
  .time-display {
    display: flex;
    justify-content: space-between;
    width: 100%;
    max-width: 500px;
    margin: 10px 0;
    font-size: clamp(0.8rem, 3vw, 0.9rem);
    color: var(--secondary);
    gap: 10px;
    position: relative;
    z-index: 1;
  }
  
  .time-display span {
    background: rgba(20, 20, 40, 0.7);
    padding: 8px 15px 8px 35px;
    border-radius: 20px;
    border: 1px solid rgba(255, 107, 53, 0.2);
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    position: relative;
    color: white;
    backdrop-filter: blur(5px);
    transition: all 0.3s ease;
  }
  
  .time-display span:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }
  
  .time-display span::before {
    content: '';
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    width: 16px;
    height: 16px;
    background-size: contain;
    background-repeat: no-repeat;
    filter: brightness(0) invert(1);
  }
  
  #live-time::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffffff'%3E%3Cpath d='M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z'/%3E%3C/svg%3E");
  }
  
  #live-date::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffffff'%3E%3Cpath d='M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z'/%3E%3C/svg%3E");
  }
  
  .signal-container {
    position: relative;
    width: 100%;
    max-width: 500px;
    margin: 15px 0;
    z-index: 1;
  }
  
  .circle {
    width: clamp(180px, 60vw, 220px);
    height: clamp(180px, 60vw, 220px);
    margin: 0 auto;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background: rgba(11, 19, 43, 0.7);
    border: 2px solid rgba(255, 107, 53, 0.3);
    box-shadow: 
      0 0 20px rgba(255, 107, 53, 0.2),
      inset 0 0 20px rgba(239, 71, 111, 0.1);
    animation: circlePulse 4s infinite alternate;
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    backdrop-filter: blur(5px);
    overflow: hidden;
  }
  
  .circle.active-signal {
    border-color: var(--accent);
    box-shadow: 
      0 0 30px rgba(239, 71, 111, 0.5),
      inset 0 0 30px rgba(239, 71, 111, 0.3);
    animation: circlePulseRed 4s infinite alternate;
    transform: scale(1.05);
  }
  
  @keyframes circlePulse {
    0% { box-shadow: 0 0 20px rgba(255, 107, 53, 0.2), inset 0 0 20px rgba(239, 71, 111, 0.1); }
    100% { box-shadow: 0 0 30px rgba(255, 107, 53, 0.3), inset 0 0 30px rgba(239, 71, 111, 0.2); }
  }
  
  @keyframes circlePulseRed {
    0% { 
      box-shadow: 0 0 30px rgba(239, 71, 111, 0.5), inset 0 0 30px rgba(239, 71, 111, 0.3);
      transform: scale(1.05);
    }
    50% {
      box-shadow: 0 0 40px rgba(239, 71, 111, 0.7), inset 0 0 40px rgba(239, 71, 111, 0.5);
      transform: scale(1.07);
    }
    100% { 
      box-shadow: 0 0 30px rgba(239, 71, 111, 0.5), inset 0 0 30px rgba(239, 71, 111, 0.3);
      transform: scale(1.05);
    }
  }
  
  .signal-content {
    text-align: center;
    padding: 15px;
    width: 100%;
    position: relative;
    z-index: 1;
  }
  
  .next-signal {
    font-size: clamp(1.1rem, 4vw, 1.4rem);
    font-weight: 600;
    margin-bottom: 10px;
    color: var(--light);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
    word-break: break-word;
  }
  
  .system-text {
    font-size: clamp(1.1rem, 4vw, 1.4rem);
    font-weight: 600;
    margin-bottom: 5px;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
  }
  
  .system-title {
    background: linear-gradient(90deg, var(--primary), var(--purple));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 1px;
  }
  
  .system-loading {
    background: linear-gradient(90deg, var(--yellow), var(--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
  .please-wait {
    color: var(--secondary);
    font-size: clamp(0.9rem, 3vw, 1.1rem);
    margin-top: 5px;
  }
  
  .countdown {
    font-size: clamp(1rem, 3.5vw, 1.2rem);
    color: var(--light);
    font-weight: 500;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    transition: all 0.3s ease;
  }
  
  .countdown.blink {
    animation: blink 1s infinite;
  }
  
  .countdown.warning {
    color: var(--accent);
    animation: flash 0.5s infinite alternate;
  }
  
  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }
  
  @keyframes flash {
    0% { opacity: 1; text-shadow: 0 0 10px rgba(239, 71, 111, 0.5); }
    100% { opacity: 0.8; text-shadow: 0 0 20px rgba(239, 71, 111, 0.8); }
  }
  
  .arrows {
    font-size: clamp(1.5rem, 6vw, 2rem);
    color: var(--accent);
    margin: 10px 0;
    animation: arrowPulse 1.5s infinite alternate;
    text-shadow: 0 0 10px rgba(239, 71, 111, 0.5);
    position: relative;
    z-index: 1;
  }
  
  @keyframes arrowPulse {
    0% { transform: scale(1); opacity: 0.7; }
    100% { transform: scale(1.1); opacity: 1; }
  }
  
  .signal-box {
    background: linear-gradient(135deg, rgba(11, 19, 43, 0.8), rgba(8, 15, 37, 0.9));
    border: 1px solid rgba(255, 214, 102, 0.3);
    border-radius: 12px;
    padding: 12px;
    margin: 15px 0;
    width: 100%;
    max-width: 500px;
    font-size: clamp(0.9rem, 3.5vw, 1.1rem);
    font-weight: 500;
    color: var(--yellow);
    box-shadow: 0 0 15px rgba(255, 214, 102, 0.2);
    animation: signalBoxGlow 3s infinite alternate;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    position: relative;
    overflow: hidden;
    z-index: 1;
    backdrop-filter: blur(5px);
    transition: all 0.3s ease;
  }
  
  .signal-box:hover {
    transform: translateY(-3px);
    box-shadow: 0 0 20px rgba(255, 214, 102, 0.3);
  }
  
  .signal-box::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -60%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.1) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    transform: rotate(30deg);
    animation: shine 5s infinite 2s;
  }
  
  @keyframes signalBoxGlow {
    0% { box-shadow: 0 0 15px rgba(255, 214, 102, 0.2); }
    100% { box-shadow: 0 0 25px rgba(255, 214, 102, 0.3); }
  }
  
  .btns {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 20px 0;
    width: 100%;
    max-width: 500px;
    z-index: 1;
  }
  
  .btn {
    flex: 1;
    padding: 12px;
    border-radius: 10px;
    text-decoration: none;
    font-weight: 500;
    font-size: clamp(0.8rem, 3vw, 0.9rem);
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    max-width: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(5px);
  }
  
  .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    transition: 0.5s;
  }
  
  .btn:hover::before {
    left: 100%;
  }
  
  .btn-whatsapp {
    background: rgba(37, 211, 102, 0.1);
    border: 1px solid rgba(37, 211, 102, 0.3);
    color: #25D366;
    box-shadow: 0 0 15px rgba(37, 211, 102, 0.1);
  }
  
  .btn-whatsapp:hover {
    background: rgba(37, 211, 102, 0.2);
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(37, 211, 102, 0.2);
  }
  
  .btn-telegram {
    background: rgba(0, 136, 204, 0.1);
    border: 1px solid rgba(0, 136, 204, 0.3);
    color: #0088cc;
    box-shadow: 0 0 15px rgba(0, 136, 204, 0.1);
  }
  
  .btn-telegram:hover {
    background: rgba(0, 136, 204, 0.2);
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(0, 136, 204, 0.2);
  }
  
  .btn:active {
    transform: translateY(1px);
  }
  
  .btn i {
    font-size: 1.2em;
  }
  
  footer {
    width: 100%;
    padding: 15px;
    font-size: clamp(0.7rem, 3vw, 0.8rem);
    color: var(--secondary);
    background: rgba(11, 19, 43, 0.7);
    border-top: 1px solid rgba(255, 107, 53, 0.2);
    margin-top: auto;
    backdrop-filter: blur(5px);
    z-index: 1;
  }
  
  footer a {
    color: var(--primary);
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
  }
  
  footer a:hover {
    color: var(--accent);
    text-shadow: 0 0 10px rgba(239, 71, 111, 0.3);
  }
  
  /* Loading animation */
  .loading-dots {
    display: inline-block;
    position: relative;
    width: 80px;
    height: 20px;
  }
  
  .loading-dots div {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 10px;
    height: 10px;
    border-radius: 50%;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
  }
  
  .loading-dots div:nth-child(1) {
    left: 8px;
    background: var(--yellow);
    animation: loading-dots1 0.6s infinite;
  }
  
  .loading-dots div:nth-child(2) {
    left: 8px;
    background: var(--accent);
    animation: loading-dots2 0.6s infinite;
  }
  
  .loading-dots div:nth-child(3) {
    left: 32px;
    background: var(--yellow);
    animation: loading-dots2 0.6s infinite;
  }
  
  .loading-dots div:nth-child(4) {
    left: 56px;
    background: var(--accent);
    animation: loading-dots3 0.6s infinite;
  }
  
  @keyframes loading-dots1 {
    0% { transform: scale(0); }
    100% { transform: scale(1); }
  }
  
  @keyframes loading-dots3 {
    0% { transform: scale(1); }
    100% { transform: scale(0); }
  }
  
  @keyframes loading-dots2 {
    0% { transform: translate(0, 0); }
    100% { transform: translate(24px, 0); }
  }
  
  /* Popup styles */
  #popupOverlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 1000;
    backdrop-filter: blur(5px);
    animation: fadeIn 0.4s ease-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  #popupBox {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, rgba(11, 19, 43, 0.95), rgba(8, 15, 37, 0.95));
    border: 1px solid rgba(255, 107, 53, 0.5);
    border-radius: 15px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 0 30px rgba(255, 107, 53, 0.3);
    z-index: 1001;
    animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    backdrop-filter: blur(10px);
  }
  
  @keyframes popIn {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
  }
  
  @keyframes popOut {
    from { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    to { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
  }
  
  #popupBox h3 {
    margin-top: 0;
    color: var(--yellow);
    font-size: 1.2em;
    text-align: center;
    border-bottom: 1px solid rgba(255, 214, 102, 0.3);
    padding-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  
  #popupBox p {
    font-size: 0.9em;
    line-height: 1.6;
    margin-bottom: 15px;
    color: var(--secondary);
  }
  
  #popupBox .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    background: none;
    border: none;
    color: var(--secondary);
    font-size: 1.5em;
    cursor: pointer;
    transition: color 0.3s;
  }
  
  #popupBox .close-btn:hover {
    color: var(--accent);
  }

  .calc-icon {
    color: var(--yellow);
    font-size: 1.1em;
  }
  
  /* Signal strength indicator */
  .signal-strength {
    display: flex;
    justify-content: center;
    gap: 5px;
    margin-top: 10px;
  }
  
  .signal-bar {
    width: 6px;
    height: 20px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    animation: signalBarPulse 2s infinite;
  }
  
  .signal-bar:nth-child(1) {
    animation-delay: 0.1s;
    height: 10px;
  }
  
  .signal-bar:nth-child(2) {
    animation-delay: 0.3s;
    height: 15px;
  }
  
  .signal-bar:nth-child(3) {
    animation-delay: 0.5s;
    height: 20px;
  }
  
  .signal-bar:nth-child(4) {
    animation-delay: 0.7s;
    height: 15px;
  }
  
  .signal-bar:nth-child(5) {
    animation-delay: 0.9s;
    height: 10px;
  }
  
  @keyframes signalBarPulse {
    0%, 100% { background: rgba(255, 255, 255, 0.2); }
    50% { background: var(--green); }
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<div class="container">
  <div class="header-box">
    <h1 class="title">Xtreme Crash Predictor PRO</h1>
    <div class="subtitle">1xbet Advanced Signal System</div>
  </div>
  
  <div class="time-display">
    <span id="live-time">00:00:00</span>
    <span id="live-date">2023-01-01</span>
  </div>
  
  <div class="arrows">&darr; SIGNAL INCOMING &darr;</div>
  
  <div class="signal-container">
    <div class="circle" id="signal-circle">
      <div class="signal-content" id="signal-content">
        <div class="system-text system-title">SYSTEM</div>
        <div class="system-text system-loading">INITIALIZING</div>
        <div class="please-wait">Please wait</div>
        <div class="loading-dots"><div></div><div></div><div></div><div></div></div>
        <div class="signal-strength">
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="arrows">&uarr; BET NOW &uarr;</div>
  
  <div class="signal-box" id="signal-box">
    <i class="fas fa-chart-line calc-icon"></i> Calculating optimal odds...
  </div>
  
  <div class="btns">
    <a href="https://chat.whatsapp.com/Jiyuy808D5Q2a8P7IEW72g" class="btn btn-whatsapp" target="_blank">
      <i class="fab fa-whatsapp"></i> WhatsApp
    </a>
    <a href="https://t.me/+Ems_0HKtv_gwZmQ1" class="btn btn-telegram" target="_blank">
      <i class="fab fa-telegram"></i> Telegram
    </a>
  </div>
  
  <footer>
    POWERED BY <a href="#" target="_blank">XTREME PREDICTOR TECHNOLOGY</a>
  </footer>
</div>

<div id="popupOverlay"></div>
<div id="popupBox">
  <button class="close-btn" onclick="closePopup()">&times;</button>
  <h3>පරිශීලක මාර්ගෝපදේශ</h3>
  <p>මෙම ක්‍රෑෂ් ක්‍රීඩාව සඳහා ඔබට ලබාදෙන සංඥා වලට අනුව ක්‍රීඩා කිරීමේදී, එකම මුදලක් භාවිතා කිරීම සුදුසුම ක්‍රමය වේ.</p>
  <p>"මාර්ටින් ගේල් (Martingale)" ක්‍රමය හෝ ඊට සමාන ගණනාවර්ධන ක්‍රමවේදයන් භාවිතයෙන් ක්‍රීඩා කිරීමෙන් ඔබගේ මුදල් කළමනාකරණය පාලනයෙන් පිට විය හැකි අතර, මෙම ක්‍රමය ක්‍රීඩාවේ ඇල්ගොරිතමය එය හඳුනාගෙන ඔබ මුදල් ගුණ කරන ආකාරය අනුව ක්‍රීඩාව ඔබට ජය ලබාදීම වළක්වනු ඇත.</p>
  <p>ඒ වෙනුවට, එකම මුදලක් යොදා ලබාදෙන සංඥාවට අනුව ක්‍රීඩා කිරීම සුදුසුයි.</p>
  <p style="text-align: center; color: var(--purple); font-weight: 500; margin-top: 15px;">- Xtreme Predictor Team -</p>
</div>

<script>
  // Enhanced mobile prevention
  document.addEventListener('gesturestart', function(e) {
    e.preventDefault();
    document.body.style.zoom = "100%";
  });
  
  document.addEventListener('touchmove', function(e) {
    if (e.scale !== 1) { 
      e.preventDefault(); 
      document.body.style.zoom = "100%";
    }
  }, { passive: false });
  
  // Prevent text selection
  document.addEventListener('selectstart', function(e) {
    e.preventDefault();
  });
  
  // Disable context menu
  document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
  });
  
  // Update time
  function updateTime() {
    const now = new Date();
    document.getElementById('live-time').textContent = now.toLocaleTimeString();
    document.getElementById('live-date').textContent = now.toISOString().split('T')[0];
  }
  setInterval(updateTime, 1000);
  updateTime();
  
  // Signal prediction logic
  const signalPattern = [
    { minutes: 3, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 8, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 13, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 18, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 23, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 28, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 33, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 38, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 43, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 48, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 53, duration: 1, odds: "5× | Guaranteed Win" },
    { minutes: 58, duration: 1, odds: "5× | Guaranteed Win" }
  ];
  
  let currentPhase = 'initializing';
  let signalStartTime = null;
  let signalEndTime = null;
  let nextSignalTime = null;
  let hasPlayedDoubleBeep = false;
  let initializationComplete = false;
  let currentSignalIndex = 0;
  let initialLoadComplete = false;
  let popupShown = false;
  
  const alertSound = new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg");
  const deepSound = new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg");
  const signalCircle = document.getElementById("signal-circle");
  const signalBox = document.getElementById("signal-box");
  const signalContent = document.getElementById("signal-content");
  
  function playBeep() {
    try {
      const sound = alertSound.cloneNode();
      sound.play().catch(e => console.log("Sound playback prevented:", e));
    } catch(e) {
      console.log("Sound error:", e);
    }
  }
  
  function playDeepBeep() {
    try {
      const sound = deepSound.cloneNode();
      sound.play().catch(e => console.log("Deep sound playback prevented:", e));
    } catch(e) {
      console.log("Deep sound error:", e);
    }
  }
  
  function playDoubleBeep() {
    if (!hasPlayedDoubleBeep) {
      playDeepBeep();
      setTimeout(playDeepBeep, 300);
      hasPlayedDoubleBeep = true;
    }
  }
  
  function calculateNextSignal(currentTime) {
    const currentMinutes = currentTime.getMinutes();
    
    // Find next signal in current hour
    for (let i = 0; i < signalPattern.length; i++) {
      if (signalPattern[i].minutes > currentMinutes) {
        const nextSignal = new Date(currentTime);
        nextSignal.setMinutes(signalPattern[i].minutes, 0, 0);
        const endTime = new Date(nextSignal);
        endTime.setMinutes(nextSignal.getMinutes() + signalPattern[i].duration);
        return {
          start: nextSignal,
          end: endTime,
          odds: signalPattern[i].odds,
          index: i
        };
      }
    }
    
    // If no more signals this hour, get first signal of next hour
    const nextHour = new Date(currentTime);
    nextHour.setHours(nextHour.getHours() + 1);
    nextHour.setMinutes(signalPattern[0].minutes, 0, 0);
    const endTime = new Date(nextHour);
    endTime.setMinutes(nextHour.getMinutes() + signalPattern[0].duration);
    return {
      start: nextHour,
      end: endTime,
      odds: signalPattern[0].odds,
      index: 0
    };
  }
  
  function updateSignalDisplay() {
    const now = new Date();
    
    // Handle initialization phase
    if (currentPhase === 'initializing' && !initializationComplete) {
      if (now - new Date() >= 8000) {
        currentPhase = 'loading';
        initializationComplete = true;
        setTimeout(() => {
          const nextSignal = calculateNextSignal(now);
          signalStartTime = nextSignal.start;
          signalEndTime = nextSignal.end;
          currentSignalIndex = nextSignal.index;
          signalBox.innerHTML = `<i class="fas fa-chart-line calc-icon"></i> Odd - ${nextSignal.odds}`;
          currentPhase = 'upcoming';
          initialLoadComplete = true;
          playDeepBeep();
          setTimeout(showPopup, 5000);
          updateSignalDisplay();
        }, 8000);
      }
      return;
    }
    
    // Check if we need to transition to signal phase
    if (currentPhase === 'upcoming' && now >= signalStartTime) {
      currentPhase = 'signal';
      hasPlayedDoubleBeep = false;
      signalCircle.classList.add('active-signal');
      playDoubleBeep();
    }
    
    // Check if signal period has ended
    if (currentPhase === 'signal' && now >= signalEndTime) {
      currentPhase = 'loading';
      signalCircle.classList.remove('active-signal');
      
      // Clear the circle content before showing loading
      signalContent.innerHTML = '';
      
      setTimeout(() => {
        const nextSignal = calculateNextSignal(now);
        signalStartTime = nextSignal.start;
        signalEndTime = nextSignal.end;
        currentSignalIndex = nextSignal.index;
        signalBox.innerHTML = `<i class="fas fa-chart-line calc-icon"></i> Odd - ${nextSignal.odds}`;
        currentPhase = 'upcoming';
        playBeep();
        updateSignalDisplay();
      }, 8000);
      
      // Show loading dots after clearing previous content
      signalContent.innerHTML = `
        <div class="loading-dots"><div></div><div></div><div></div><div></div></div>
        <div class="signal-strength">
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
        </div>
      `;
      signalBox.innerHTML = '<i class="fas fa-chart-line calc-icon"></i> Calculating optimal odds...';
      return;
    }
    
    // Update display based on current phase
    if (currentPhase === 'signal') {
      const displayString = `${signalStartTime.getHours().toString().padStart(2, '0')}:${signalStartTime.getMinutes().toString().padStart(2, '0')} - ${signalEndTime.getHours().toString().padStart(2, '0')}:${signalEndTime.getMinutes().toString().padStart(2, '0')}`;
      
      signalContent.innerHTML = `
        <div class="next-signal">${displayString}</div>
        <div class="countdown" id="countdown">End in: 00:00</div>
        <div class="signal-strength">
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
        </div>
      `;
      
      // Update countdown to signal end
      const countdown = Math.max(0, Math.floor((signalEndTime - now) / 1000));
      const min = String(Math.floor(countdown / 60)).padStart(2, '0');
      const sec = String(countdown % 60).padStart(2, '0');
      const countdownElement = document.getElementById("countdown");
      countdownElement.textContent = `End in: ${min}:${sec}`;
      
      // Add warning effect for last 10 seconds
      if (countdown <= 10) {
        countdownElement.classList.add('warning');
      } else {
        countdownElement.classList.remove('warning');
      }
    } 
    else if (currentPhase === 'upcoming') {
      const displayString = `${signalStartTime.getHours().toString().padStart(2, '0')}:${signalStartTime.getMinutes().toString().padStart(2, '0')} - ${signalEndTime.getHours().toString().padStart(2, '0')}:${signalEndTime.getMinutes().toString().padStart(2, '0')}`;
      
      signalContent.innerHTML = `
        <div class="next-signal">${displayString}</div>
        <div class="countdown" id="countdown">Upcoming in: 00:00</div>
        <div class="signal-strength">
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
          <div class="signal-bar"></div>
        </div>
      `;
      
      // Update countdown to next signal
      const countdown = Math.max(0, Math.floor((signalStartTime - now) / 1000));
      const min = String(Math.floor(countdown / 60)).padStart(2, '0');
      const sec = String(countdown % 60).padStart(2, '0');
      const countdownElement = document.getElementById("countdown");
      countdownElement.textContent = `Upcoming in: ${min}:${sec}`;
      
      // Add warning effect for last 10 seconds
      if (countdown <= 10) {
        countdownElement.classList.add('warning');
      } else {
        countdownElement.classList.remove('warning');
      }
    }
  }
  
  // Initialize the system
  setTimeout(() => {
    currentPhase = 'loading';
    updateSignalDisplay();
    setTimeout(() => {
      const nextSignal = calculateNextSignal(new Date());
      signalStartTime = nextSignal.start;
      signalEndTime = nextSignal.end;
      currentSignalIndex = nextSignal.index;
      signalBox.innerHTML = `<i class="fas fa-chart-line calc-icon"></i> Odd - ${nextSignal.odds}`;
      currentPhase = 'upcoming';
      initialLoadComplete = true;
      playDeepBeep();
      setTimeout(showPopup, 5000);
      updateSignalDisplay();
    }, 8000);
  }, 8000);
  
  setInterval(updateSignalDisplay, 1000);
  
  // Popup functions
  function showPopup() {
    if (!popupShown) {
      document.getElementById('popupOverlay').style.display = 'block';
      const popup = document.getElementById('popupBox');
      popup.style.display = 'block';
      popupShown = true;
    }
  }
  
  function closePopup() {
    const popup = document.getElementById('popupBox');
    popup.style.animation = 'popOut 0.3s ease-out forwards';
    
    setTimeout(() => {
      document.getElementById('popupOverlay').style.display = 'none';
      popup.style.display = 'none';
      popup.style.animation = '';
    }, 300);
  }
</script>
</body>
</html>